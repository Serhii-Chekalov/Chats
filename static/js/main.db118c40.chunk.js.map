{"version":3,"sources":["components/SidebarView/SidebarView.styled.js","components/SidebarView/SidebarView.js","components/ChatView/ChatView.styled.js","components/ChatView/ChatView.js","components/RootView/RootView.styled.js","components/RootView/RootView.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Head","styled","strong","Header","div","Input","input","List","ul","ListItem","li","Button","button","SidebarView","chats","onChatChange","onSearch","onChange","e","target","value","placeholder","type","map","id","user","creator","message","onClick","Name","MessageItem","span","MessageWrap","props","right","ChatView","activeChat","messages","onMessageCreate","useState","setMessage","handleKeyDown","event","key","index","Boolean","onKeyDown","RootWrap","SidebarWrap","ChatWrap","main","RootView","searchPhrase","setSearchPhrase","setActiveChat","localStorage","JSON","parse","messagesData","setMessages","useMemo","chatsData","i","messagesById","lastMessage","length","renderChats","filter","toLowerCase","includes","activeChatData","find","useEffect","setItem","stringify","setFakeData","fetch","then","res","json","result","lastUpdate","Date","now","error","alert","setTimeout","Math","floor","random","modifyMessages","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4xBAEaA,EAAOC,IAAOC,OAAV,6GAOJC,EAASF,IAAOG,IAAV,2FAMNC,EAAQJ,IAAOK,MAAV,4OAaLC,EAAON,IAAOO,GAAV,8CAIJC,EAAWR,IAAOS,GAAV,qEAKRC,EAASV,IAAOW,OAAV,uP,OC3BNC,EAAc,WAAkD,IAAD,yDAAP,GAAO,IAA9CC,aAA8C,MAAtC,GAAsC,EAAlCC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,SACtD,OACE,gCACE,cAACb,EAAD,0BAEA,cAACE,EAAD,CACEY,SAAU,SAACC,GAAD,OAAOF,EAASE,EAAEC,OAAOC,QACnCC,YAAY,0BACZC,KAAK,SAEP,cAACtB,EAAD,oBACA,cAACO,EAAD,UACGO,EAAMS,KAAI,YAAqC,IAAlCC,EAAiC,EAAjCA,GAAaC,GAAoB,EAA7BC,QAA6B,EAApBD,MAAME,EAAc,EAAdA,QAC/B,OACE,cAAClB,EAAD,UACE,eAACE,EAAD,CAAQiB,QAAS,kBAAMb,EAAaS,IAApC,UACE,+BAAOC,IACP,4BAAIE,QAHOH,YCtBdK,EAAO5B,IAAOG,IAAV,8GAOJC,EAAQJ,IAAOK,MAAV,mIAQLC,EAAON,IAAOO,GAAV,oDAIJsB,EAAc7B,IAAO8B,KAAV,wKASXC,EAAc/B,IAAOS,GAAV,+EAIpB,SAACuB,GAAD,OACAA,EAAMC,OAAN,4GChCSC,GD2CkBlC,IAAOG,IAAV,uJC3CJ,WAIZ,IAAD,yDAAP,GAHFgC,EAGS,EAHTA,WAGS,IAFTC,gBAES,MAFE,GAEF,EADTC,EACS,EADTA,gBAEA,EAA8BC,mBAAS,IAAvC,mBAAOZ,EAAP,KAAgBa,EAAhB,KAEMC,EAAgB,SAACC,GAChBf,GAEa,UAAde,EAAMC,MACRL,EAAgBX,GAChBa,EAAW,MAIf,OACE,qCACE,cAACX,EAAD,UAAOO,EAAWV,UAClB,cAAC,EAAD,UACGW,EAASd,KAAI,WAAoBqB,GAAW,IAA5BlB,EAA2B,EAA3BA,QAASD,EAAkB,EAAlBA,KACxB,OACE,cAACO,EAAD,CAAyBE,MAAOW,QAAQpB,GAAxC,SACE,cAACK,EAAD,UAAcJ,GAAWD,KADTmB,QAMxB,8BACE,cAAC,EAAD,CACEvB,YAAY,oBACZC,KAAK,OACLF,MAAOO,EACPV,SAAU,SAACC,GAAD,OAAOsB,EAAWtB,EAAEC,OAAOC,QACrC0B,UAAWL,W,gBCnCRM,EAAW9C,IAAOG,IAAV,gFAMR4C,EAAc/C,IAAOG,IAAV,+DAKX6C,EAAWhD,IAAOiD,KAAV,+DCFRC,EAAW,WACtB,MAAwCZ,mBAAS,IAAjD,mBAAOa,EAAP,KAAqBC,EAArB,KACA,EAAoCd,mBAAS,GAA7C,mBAAOH,EAAP,KAAmBkB,EAAnB,KACA,EAAgCf,mBAC9BgB,aAAalB,SAAWmB,KAAKC,MAAMF,aAAalB,UAAYqB,GAD9D,mBAAOrB,EAAP,KAAiBsB,EAAjB,KAGM7C,EAAQ8C,mBAAQ,WACpB,OAAOC,EAAUtC,KAAI,SAACuC,GACpB,IAAMC,EAAe1B,EAASyB,EAAEtC,IAC1BwC,EAAcD,EAAaA,EAAaE,OAAS,GAEvD,OAAO,2BACFH,GADL,IAGEnC,SAAoB,OAAXqC,QAAW,IAAXA,OAAA,EAAAA,EAAatC,WAAb,OAAwBsC,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAavC,aAGjD,CAACY,EAAUe,IAERc,EAAcN,mBAAQ,WAC1B,OAAO9C,EAAMqD,QAAO,SAACL,GACnB,OAAOA,EAAErC,KAAK2C,cAAcC,SAASjB,EAAagB,oBAEnD,CAACtD,IAEEwD,EAAiBxD,EAAMyD,MAAK,qBAAG/C,KAAgBY,KAErDoC,qBAAU,WACRjB,aAAakB,QAAQ,WAAYjB,KAAKkB,UAAUrC,MAC/C,CAACA,IAEJ,IAAMsC,EAAc,WAClBC,MAAM,2CACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MACC,SAACG,GACCrB,GAAY,SAACtB,GAAD,mBAAC,eACRA,GADO,kBAETD,EAFS,sBAGLC,EAASD,IAHJ,CAIR,CACEX,KAAMuD,EAAO5D,MACb6D,WAAYC,KAAKC,iBAKzB,SAACC,GACCC,MAAMD,EAAMzD,aAuBpB,OACE,eAACoB,EAAD,WACE,cAACC,EAAD,UACE,cAAC,EAAD,CACElC,MAAOoD,EACPnD,aAAc,SAACS,GAAD,OAAQ8B,EAAc9B,IACpCR,SAAUqC,MAGd,cAACJ,EAAD,UACE,cAAC,EAAD,CACEb,WAAYkC,EACZjC,SAAUA,EAASD,GACnBE,gBAAiB,SAACX,GAAD,OA/BF,SAACA,GACtBgC,GAAY,SAACtB,GAAD,mBAAC,eACRA,GADO,kBAETD,EAFS,sBAGLC,EAASD,IAHJ,CAIR,CACEV,QAASC,EACTsD,WAAYC,KAAKC,cAIvBG,WACEX,EAEsC,KAArCY,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,IAiBCC,CAAe/D,YCxFxCgE,MAJf,WACE,OAAO,cAAC,EAAD,KCQMC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBjB,MAAK,YAAkD,IAA/CkB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.db118c40.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const Head = styled.strong`\r\n  display: block;\r\n  color: #0000ff;\r\n  margin-left: 20px;\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  margin-top: 20px;\r\n  display: block;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  margin-top: 20px;\r\n  margin-left: 60px;\r\n  width: 50%;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding: 0 50px 0 20px;\r\n  background-color: #eee;\r\n  border: none;\r\n  border-radius: 3px;\r\n  color: black;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  padding: 20px;\r\n`;\r\n\r\nexport const ListItem = styled.li`\r\n  margin-top: 10px;\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  cursor: pointer;\r\n  width: 100%;\r\n  display: block;\r\n  padding: 20px;\r\n  font-size: 12px;\r\n  background-color: #fff;\r\n  border: 1px solid grey;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n    background-color: #eee;\r\n  }\r\n`;\r\n","import { useState, useEffect } from \"react\";\nimport {\n  Header,\n  Input,\n  Head,\n  Button,\n  List,\n  ListItem,\n} from \"./SidebarView.styled\";\n\nexport const SidebarView = ({ chats = [], onChatChange, onSearch } = {}) => {\n  return (\n    <div>\n      <Header>Search chat</Header>\n\n      <Input\n        onChange={(e) => onSearch(e.target.value)}\n        placeholder=\"Serch or start new chat\"\n        type=\"text\"\n      />\n      <Head>Chats</Head>\n      <List>\n        {chats.map(({ id, creator, user, message }) => {\n          return (\n            <ListItem key={id}>\n              <Button onClick={() => onChatChange(id)}>\n                <span>{user}</span>\n                <p>{message}</p>\n              </Button>\n            </ListItem>\n          );\n        })}\n      </List>\n    </div>\n  );\n};\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Name = styled.div`\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  color: #4682b4;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  margin-bottom: 15px;\r\n  border-radius: 30px;\r\n  width: 70vh;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  padding: 0 40px 0 0;\r\n`;\r\n\r\nexport const MessageItem = styled.span`\r\n  line-height: 1.2;\r\n  display: inline-block;\r\n  padding: 10px 20px;\r\n  border-radius: 20px;\r\n  background-color: #eee;\r\n  max-width: 80%;\r\n`;\r\n\r\nexport const MessageWrap = styled.li`\r\n  display: block;\r\n  margin-bottom: 5px;\r\n\r\n  ${(props) =>\r\n    props.right &&\r\n    `\r\n    text-align: right;\r\n\r\n    span {\r\n      color: white;\r\n      background-color: black;\r\n    }\r\n  `}\r\n`;\r\n\r\nexport const MessagesCreator = styled.div`\r\n  padding: 20px;\r\n  color: green;\r\n  line-height: 25px;\r\n  max-width: 90%;\r\n\r\n  text-align: right;\r\n  border-radius: 5px;\r\n`;\r\n","import { useState, useEffect, useMemo } from \"react\";\nimport { Name, List, Input, MessageItem, MessageWrap } from \"./ChatView.styled\";\n\nexport const ChatView = ({\n  activeChat,\n  messages = [],\n  onMessageCreate,\n} = {}) => {\n  const [message, setMessage] = useState(\"\");\n\n  const handleKeyDown = (event) => {\n    if (!message) return;\n\n    if (event.key === \"Enter\") {\n      onMessageCreate(message);\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <>\n      <Name>{activeChat.creator}</Name>\n      <List>\n        {messages.map(({ creator, user }, index) => {\n          return (\n            <MessageWrap key={index} right={Boolean(user)}>\n              <MessageItem>{creator || user}</MessageItem>\n            </MessageWrap>\n          );\n        })}\n      </List>\n      <div>\n        <Input\n          placeholder=\"Type your message\"\n          type=\"text\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n    </>\n  );\n};\n","import styled from \"@emotion/styled\";\n\nexport const RootWrap = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n`;\n\nexport const SidebarWrap = styled.div`\n  height: inherit;\n  width: 30%;\n`;\n\nexport const ChatWrap = styled.main`\n  height: inherit;\n  width: 70%;\n`;\n","import { useState, useEffect, useMemo } from \"react\";\nimport { SidebarView } from \"../SidebarView/SidebarView\";\nimport { ChatView } from \"../ChatView/ChatView\";\n\n// default data\nimport chatsData from \"./default-chats.json\";\nimport messagesData from \"./default-messages.json\";\n\n// styles\nimport { ChatWrap, RootWrap, SidebarWrap } from \"./RootView.styled\";\n\nexport const RootView = () => {\n  const [searchPhrase, setSearchPhrase] = useState(\"\");\n  const [activeChat, setActiveChat] = useState(1);\n  const [messages, setMessages] = useState(\n    localStorage.messages ? JSON.parse(localStorage.messages) : messagesData\n  );\n  const chats = useMemo(() => {\n    return chatsData.map((i) => {\n      const messagesById = messages[i.id];\n      const lastMessage = messagesById[messagesById.length - 1];\n\n      return {\n        ...i,\n        /** getting the last message */\n        message: lastMessage?.creator || lastMessage?.user,\n      };\n    });\n  }, [messages, searchPhrase]);\n\n  const renderChats = useMemo(() => {\n    return chats.filter((i) => {\n      return i.user.toLowerCase().includes(searchPhrase.toLowerCase());\n    });\n  }, [chats]);\n\n  const activeChatData = chats.find(({ id }) => id === activeChat);\n\n  useEffect(() => {\n    localStorage.setItem(\"messages\", JSON.stringify(messages));\n  }, [messages]);\n\n  const setFakeData = () => {\n    fetch(\"https://api.chucknorris.io/jokes/random\")\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          setMessages((messages) => ({\n            ...messages,\n            [activeChat]: [\n              ...messages[activeChat],\n              {\n                user: result.value,\n                lastUpdate: Date.now(),\n              },\n            ],\n          }));\n        },\n        (error) => {\n          alert(error.message);\n        }\n      );\n  };\n\n  const modifyMessages = (message) => {\n    setMessages((messages) => ({\n      ...messages,\n      [activeChat]: [\n        ...messages[activeChat],\n        {\n          creator: message,\n          lastUpdate: Date.now(),\n        },\n      ],\n    }));\n    setTimeout(\n      setFakeData,\n      // set any renage, that u want 10 -> 15\n      (Math.floor(Math.random() * 3) + 1) * 1000\n    );\n  };\n\n  return (\n    <RootWrap>\n      <SidebarWrap>\n        <SidebarView\n          chats={renderChats}\n          onChatChange={(id) => setActiveChat(id)}\n          onSearch={setSearchPhrase}\n        />\n      </SidebarWrap>\n      <ChatWrap>\n        <ChatView\n          activeChat={activeChatData}\n          messages={messages[activeChat]}\n          onMessageCreate={(message) => modifyMessages(message)}\n        />\n      </ChatWrap>\n    </RootWrap>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { RootView } from \"../RootView/RootView\";\n\nfunction App() {\n  return <RootView />;\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}