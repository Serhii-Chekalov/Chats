{"version":3,"sources":["components/SidebarView/SidebarView.styled.js","components/SidebarView/SidebarView.js","components/ChatView/ChatView.styled.js","components/ChatView/ChatView.js","components/RootView/RootView.styled.js","components/RootView/RootView.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["HeaderWrap","styled","div","Head","h3","InfoUser","Name","h2","Message","Header","Input","input","List","ul","ListItem","li","Button","button","SidebarView","chats","onChatChange","onSearch","onChange","e","target","value","placeholder","type","map","id","user","creator","message","avatar","onClick","NameWrap","ChatWrap","InputWrap","MessageItem","span","MessageWrap","props","right","ChatView","activeChat","messages","onMessageCreate","useState","setMessage","handleKeyDown","event","key","index","Boolean","onKeyDown","RootWrap","SidebarWrap","main","RootView","searchPhrase","setSearchPhrase","setActiveChat","localStorage","JSON","parse","messagesData","setMessages","useMemo","chatsData","i","messagesById","lastMessage","length","renderChats","filter","toLowerCase","includes","activeChatData","find","useEffect","setItem","stringify","setFakeData","fetch","then","res","json","result","lastUpdate","Date","now","error","alert","setTimeout","Math","floor","random","modifyMessages","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iiCAEaA,EAAaC,IAAOC,IAAV,0GAMVC,EAAOF,IAAOG,GAAV,gGAgBJC,EAAWJ,IAAOC,IAAV,mGAMRI,EAAOL,IAAOM,GAAV,iHAOJC,EAAUP,IAAOG,GAAV,8HAQPK,EAASR,IAAOC,IAAV,2FAMNQ,EAAQT,IAAOU,MAAV,yPAaLC,EAAOX,IAAOY,GAAV,0FAMJC,EAAWb,IAAOc,GAAV,qEAKRC,EAASf,IAAOgB,OAAV,wP,OC5DNC,EAAc,WAAkD,IAAD,yDAAP,GAAO,IAA9CC,aAA8C,MAAtC,GAAsC,EAAlCC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,SACtD,OACE,gCACE,eAACrB,EAAD,WACE,cAACS,EAAD,0BACA,cAACC,EAAD,CACEY,SAAU,SAACC,GAAD,OAAOF,EAASE,EAAEC,OAAOC,QACnCC,YAAY,0BACZC,KAAK,YAGT,cAACxB,EAAD,oBACA,cAACS,EAAD,UACGO,EAAMS,KAAI,YAA6C,IAA1CC,EAAyC,EAAzCA,GAAaC,GAA4B,EAArCC,QAAqC,EAA5BD,MAAME,EAAsB,EAAtBA,QAAsB,EAAbC,OACxC,OACE,cAACnB,EAAD,UACE,cAACE,EAAD,CAAQkB,QAAS,kBAAMd,EAAaS,IAApC,SAEE,eAACxB,EAAD,WACE,cAACC,EAAD,UAAOwB,IACP,cAACtB,EAAD,UAAUwB,UALDH,YC5BdM,EAAWlC,IAAOC,IAAV,yGAMRI,EAAOL,IAAOC,IAAV,8GAOJkC,EAAWnC,IAAOC,IAAV,mJAQRmC,EAAYpC,IAAOC,IAAV,0HAOTQ,EAAQT,IAAOU,MAAV,uFAMLC,EAAOX,IAAOY,GAAV,oDAIJyB,EAAcrC,IAAOsC,KAAV,8LAUXC,EAAcvC,IAAOc,GAAV,+EAIpB,SAAC0B,GAAD,OACAA,EAAMC,OAAN,8GC3CSC,GAAW,WAIZ,IAAD,yDAAP,GAHFC,EAGS,EAHTA,WAGS,IAFTC,gBAES,MAFE,GAEF,EADTC,EACS,EADTA,gBAEA,EAA8BC,mBAAS,IAAvC,mBAAOf,EAAP,KAAgBgB,EAAhB,KAEMC,EAAgB,SAACC,GAChBlB,GAEa,UAAdkB,EAAMC,MACRL,EAAgBd,GAChBgB,EAAW,MAIf,OACE,qCACE,cAACb,EAAD,UACE,cAAC,EAAD,UAAOS,EAAWd,SAEpB,cAACM,EAAD,UACE,cAAC,EAAD,UACGS,EAASjB,KAAI,WAAoBwB,GAAW,IAA5BrB,EAA2B,EAA3BA,QAASD,EAAkB,EAAlBA,KACxB,OACE,cAACU,EAAD,CAAyBE,MAAOW,QAAQvB,GAAxC,SACE,cAACQ,EAAD,UAAcP,GAAWD,KADTsB,UAO1B,cAACf,EAAD,UACE,cAAC,EAAD,CACEX,YAAY,oBACZC,KAAK,OACLF,MAAOO,EACPV,SAAU,SAACC,GAAD,OAAOyB,EAAWzB,EAAEC,OAAOC,QACrC6B,UAAWL,U,kBChDRM,GAAWtD,IAAOC,IAAV,gFAMRsD,GAAcvD,IAAOC,IAAV,+DAKXkC,GAAWnC,IAAOwD,KAAV,+DCFRC,GAAW,WACtB,MAAwCX,mBAAS,IAAjD,mBAAOY,EAAP,KAAqBC,EAArB,KACA,EAAoCb,mBAAS,GAA7C,mBAAOH,EAAP,KAAmBiB,EAAnB,KACA,EAAgCd,mBAC9Be,aAAajB,SAAWkB,KAAKC,MAAMF,aAAajB,UAAYoB,IAD9D,mBAAOpB,EAAP,KAAiBqB,EAAjB,KAGM/C,EAAQgD,mBAAQ,WACpB,OAAOC,GAAUxC,KAAI,SAACyC,GACpB,IAAMC,EAAezB,EAASwB,EAAExC,IAC1B0C,EAAcD,EAAaA,EAAaE,OAAS,GAEvD,OAAO,2BACFH,GADL,IAGErC,SAAoB,OAAXuC,QAAW,IAAXA,OAAA,EAAAA,EAAaxC,WAAb,OAAwBwC,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAazC,aAGjD,CAACe,EAAUc,IAERc,EAAcN,mBAAQ,WAC1B,OAAOhD,EAAMuD,QAAO,SAACL,GACnB,OAAOA,EAAEvC,KAAK6C,cAAcC,SAASjB,EAAagB,oBAEnD,CAACxD,IAEE0D,EAAiB1D,EAAM2D,MAAK,qBAAGjD,KAAgBe,KAErDmC,qBAAU,WACRjB,aAAakB,QAAQ,WAAYjB,KAAKkB,UAAUpC,MAC/C,CAACA,IAEJ,IAAMqC,EAAc,WAClBC,MAAM,2CACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MACC,SAACG,GACCrB,GAAY,SAACrB,GAAD,mBAAC,eACRA,GADO,kBAETD,EAFS,sBAGLC,EAASD,IAHJ,CAIR,CACEd,KAAMyD,EAAO9D,MACb+D,WAAYC,KAAKC,iBAKzB,SAACC,GACCC,MAAMD,EAAM3D,aAuBpB,OACE,eAACuB,GAAD,WACE,cAACC,GAAD,UACE,cAAC,EAAD,CACErC,MAAOsD,EACPrD,aAAc,SAACS,GAAD,OAAQgC,EAAchC,IACpCR,SAAUuC,MAGd,cAAC,GAAD,UACE,cAAC,GAAD,CACEhB,WAAYiC,EACZhC,SAAUA,EAASD,GACnBE,gBAAiB,SAACd,GAAD,OA/BF,SAACA,GACtBkC,GAAY,SAACrB,GAAD,mBAAC,eACRA,GADO,kBAETD,EAFS,sBAGLC,EAASD,IAHJ,CAIR,CACEb,QAASC,EACTwD,WAAYC,KAAKC,cAIvBG,WACEX,EAEsC,KAArCY,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,IAiBCC,CAAejE,YCxFxCkE,OAJf,WACE,OAAO,cAAC,GAAD,KCQMC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBjB,MAAK,YAAkD,IAA/CkB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.54393f40.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const HeaderWrap = styled.div`\r\n  background-color: #f6f6f4;\r\n  border: 1px solid #c0c0c0;\r\n  height: 120px;\r\n`;\r\n\r\nexport const Head = styled.h3`\r\n  display: block;\r\n  color: #4682b4;\r\n  margin: 30px 0px 0px 25px;\r\n`;\r\n\r\n// export const Image = styled.img`\r\n//   border-radius: 50%;\r\n//   margin-left: 20px;\r\n//   margin-right: 8px;\r\n//   position: relative;\r\n//   top: 0px;\r\n//   right: 10px;\r\n//   left: 0px;\r\n// `;\r\n\r\nexport const InfoUser = styled.div`\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  margin-top: 12px;\r\n`;\r\n\r\nexport const Name = styled.h2`\r\n  margin: 0;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  margin-top: 12px;\r\n`;\r\n\r\nexport const Message = styled.h3`\r\n  margin: 0;\r\n  font-size: 12px;\r\n  color: #7e818a;\r\n  margin-top: 12px;\r\n  font-weight: normal;\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  margin-top: 20px;\r\n  display: block;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  margin-top: 20px;\r\n  margin-left: 25px;\r\n  width: 70%;\r\n  height: 35px;\r\n  line-height: 30px;\r\n  padding: 0 50px 0 20px;\r\n  background-color: #ffff;\r\n  border: 1px solid black;\r\n  border-radius: 30px;\r\n  color: black;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  margin-top: 50px;\r\n  overflow-y: scroll;\r\n  height: 500px;\r\n`;\r\n\r\nexport const ListItem = styled.li`\r\n  margin-top: 10px;\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  cursor: pointer;\r\n  width: 100%;\r\n  display: block;\r\n  padding: 10px;\r\n  font-size: 12px;\r\n  background-color: #fff;\r\n  border: 0;\r\n  border-bottom: 1px solid #c0c0c0;\r\n\r\n  &:hover {\r\n    background-color: #eee;\r\n  }\r\n`;\r\n","import { useState, useEffect } from \"react\";\nimport {\n  Header,\n  Image,\n  Input,\n  Head,\n  Button,\n  List,\n  ListItem,\n  HeaderWrap,\n  InfoUser,\n  Name,\n  Message,\n} from \"./SidebarView.styled\";\n\nexport const SidebarView = ({ chats = [], onChatChange, onSearch } = {}) => {\n  return (\n    <div>\n      <HeaderWrap>\n        <Header>Search chat</Header>\n        <Input\n          onChange={(e) => onSearch(e.target.value)}\n          placeholder=\"Serch or start new chat\"\n          type=\"text\"\n        />\n      </HeaderWrap>\n      <Head>Chats</Head>\n      <List>\n        {chats.map(({ id, creator, user, message, avatar }) => {\n          return (\n            <ListItem key={id}>\n              <Button onClick={() => onChatChange(id)}>\n                {/* <Image src={avatar} alt=\"\" /> */}\n                <InfoUser>\n                  <Name>{user}</Name>\n                  <Message>{message}</Message>\n                </InfoUser>\n              </Button>\n            </ListItem>\n          );\n        })}\n      </List>\n    </div>\n  );\n};\n","import styled from \"@emotion/styled\";\r\n\r\nexport const NameWrap = styled.div`\r\n  background-color: #f6f6f4;\r\n  border: 1px solid #c0c0c0;\r\n  height: 60px;\r\n`;\r\n\r\nexport const Name = styled.div`\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  color: #4682b4;\r\n`;\r\n\r\nexport const ChatWrap = styled.div`\r\n  background-color: #fcfbfa;\r\n  border: 1px solid #c0c0c0;\r\n  padding: 10px;\r\n  overflow-y: scroll;\r\n  height: 500px;\r\n`;\r\n\r\nexport const InputWrap = styled.div`\r\n  background-color: #f6f6f4;\r\n  border: 1px solid #c0c0c0;\r\n  width: 100%;\r\n  padding: 40px;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  padding: 20px;\r\n  border-radius: 30px;\r\n  width: 100vh;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  padding: 0 40px 0 0;\r\n`;\r\n\r\nexport const MessageItem = styled.span`\r\n  line-height: 1.2;\r\n  display: inline-block;\r\n  padding: 10px 20px;\r\n  border-radius: 20px;\r\n  background-color: #2f4f4f;\r\n  color: #ffffff;\r\n  max-width: 80%;\r\n`;\r\n\r\nexport const MessageWrap = styled.li`\r\n  display: block;\r\n  margin-bottom: 5px;\r\n\r\n  ${(props) =>\r\n    props.right &&\r\n    `\r\n    text-align: right;\r\n\r\n    span {\r\n      background-color:  #eee;\r\n      color: #000000;\r\n    }\r\n  `}\r\n`;\r\n","import { useState, useEffect, useMemo } from \"react\";\nimport {\n  Name,\n  List,\n  Input,\n  MessageItem,\n  MessageWrap,\n  ChatWrap,\n  NameWrap,\n  InputWrap,\n} from \"./ChatView.styled\";\n\nexport const ChatView = ({\n  activeChat,\n  messages = [],\n  onMessageCreate,\n} = {}) => {\n  const [message, setMessage] = useState(\"\");\n\n  const handleKeyDown = (event) => {\n    if (!message) return;\n\n    if (event.key === \"Enter\") {\n      onMessageCreate(message);\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <>\n      <NameWrap>\n        <Name>{activeChat.user}</Name>\n      </NameWrap>\n      <ChatWrap>\n        <List>\n          {messages.map(({ creator, user }, index) => {\n            return (\n              <MessageWrap key={index} right={Boolean(user)}>\n                <MessageItem>{creator || user}</MessageItem>\n              </MessageWrap>\n            );\n          })}\n        </List>\n      </ChatWrap>\n      <InputWrap>\n        <Input\n          placeholder=\"Type your message\"\n          type=\"text\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyDown={handleKeyDown}\n        />\n      </InputWrap>\n    </>\n  );\n};\n","import styled from \"@emotion/styled\";\n\nexport const RootWrap = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n`;\n\nexport const SidebarWrap = styled.div`\n  height: inherit;\n  width: 30%;\n`;\n\nexport const ChatWrap = styled.main`\n  height: inherit;\n  width: 70%;\n`;\n","import { useState, useEffect, useMemo } from \"react\";\nimport { SidebarView } from \"../SidebarView/SidebarView\";\nimport { ChatView } from \"../ChatView/ChatView\";\n\n// default data\nimport chatsData from \"./default-chats.json\";\nimport messagesData from \"./default-messages.json\";\n\n// styles\nimport { ChatWrap, RootWrap, SidebarWrap } from \"./RootView.styled\";\n\nexport const RootView = () => {\n  const [searchPhrase, setSearchPhrase] = useState(\"\");\n  const [activeChat, setActiveChat] = useState(1);\n  const [messages, setMessages] = useState(\n    localStorage.messages ? JSON.parse(localStorage.messages) : messagesData\n  );\n  const chats = useMemo(() => {\n    return chatsData.map((i) => {\n      const messagesById = messages[i.id];\n      const lastMessage = messagesById[messagesById.length - 1];\n\n      return {\n        ...i,\n        /** getting the last message */\n        message: lastMessage?.creator || lastMessage?.user,\n      };\n    });\n  }, [messages, searchPhrase]);\n\n  const renderChats = useMemo(() => {\n    return chats.filter((i) => {\n      return i.user.toLowerCase().includes(searchPhrase.toLowerCase());\n    });\n  }, [chats]);\n\n  const activeChatData = chats.find(({ id }) => id === activeChat);\n\n  useEffect(() => {\n    localStorage.setItem(\"messages\", JSON.stringify(messages));\n  }, [messages]);\n\n  const setFakeData = () => {\n    fetch(\"https://api.chucknorris.io/jokes/random\")\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          setMessages((messages) => ({\n            ...messages,\n            [activeChat]: [\n              ...messages[activeChat],\n              {\n                user: result.value,\n                lastUpdate: Date.now(),\n              },\n            ],\n          }));\n        },\n        (error) => {\n          alert(error.message);\n        }\n      );\n  };\n\n  const modifyMessages = (message) => {\n    setMessages((messages) => ({\n      ...messages,\n      [activeChat]: [\n        ...messages[activeChat],\n        {\n          creator: message,\n          lastUpdate: Date.now(),\n        },\n      ],\n    }));\n    setTimeout(\n      setFakeData,\n      // set any renage, that u want 10 -> 15\n      (Math.floor(Math.random() * 3) + 1) * 1000\n    );\n  };\n\n  return (\n    <RootWrap>\n      <SidebarWrap>\n        <SidebarView\n          chats={renderChats}\n          onChatChange={(id) => setActiveChat(id)}\n          onSearch={setSearchPhrase}\n        />\n      </SidebarWrap>\n      <ChatWrap>\n        <ChatView\n          activeChat={activeChatData}\n          messages={messages[activeChat]}\n          onMessageCreate={(message) => modifyMessages(message)}\n        />\n      </ChatWrap>\n    </RootWrap>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { RootView } from \"../RootView/RootView\";\n\nfunction App() {\n  return <RootView />;\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}